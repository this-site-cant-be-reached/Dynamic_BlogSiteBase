<%- include("partials/header") %>
<h1>Home</h1>
<p><%= startingContent %></p>
<% contenidoDePosts.forEach(element => { 
    
   //--- Titulo del post ---
//    var key = Object.keys(element)[0];
//    var value = element[key];  -- PONER ESTE VALUE COMO EL TITULO
   //--- Cuerpo del post ---
//    var key2 = Object.keys(element)[1];
//    var value_2 = element[key2]; -- PONER ESTE VALUE_2 COMO EL CUERPO OSEA EL BODY xD
 
//---- But there is another better way to do this 
//This is like magic cause you just only have to put the ky and the vaule will be set xD
   let title = element.title;
   let body = element.content; 
   let readMore=" ";

   if(body.length > 100){
       body = body.substring(0,100) + "...";
       readMore = "Read More";
   }

   %>
<h1> <%= title %> </h1>
<p> <%= body %> <a href="/post/<%= element._id %>"><%= readMore %></a><a class="delete-ico-image" href="#"
      onclick="removeFunction('<%= element._id %>','<%= title %>')"><i class="fas fa-trash"></i></a>
</p>

<script>
   function removeFunction(idPost , title) {
      let answer = window.confirm('Are you sure you want to delete this post : '+title+' ?');
      if (answer) {
         window.location.href = "/delete/"+idPost;
         window.alert("You has deleted the post: "+title);
      } else {
         window.location.href = "/";
      }
   }
</script>

<%  })   %>


<%- include("partials/footer") %>